<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WebApps Searchengine - Future Edition</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700&family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    <link rel="stylesheet" href="style.css">
    <script src="https://unpkg.com/papaparse@5.3.2/papaparse.min.js"></script> <!-- Hilft beim Lesen der CSV -->
    <script src="script.js" defer></script>
</head>
<body>

    <!-- Ansicht 0: Loading Screen -->
    <div id="loading-screen" class="view active-view">
        <div class="loading-container">
            <div class="loader"></div>
            <p>Loading Database...</p>
        </div>
    </div>

    <header>
        <div class="logo-container" id="logo-home-button">
            <img src="https://i.imgur.com/r6yVFfN.png" alt="Logo" class="logo-img">
            <h1>WebApps Searchengine</h1>
        </div>
        <nav>
            <button id="nav-search-btn" class="nav-button active"><span class="material-symbols-outlined">search</span> Search</button>
            <button id="nav-contact-btn" class="nav-button"><span class="material-symbols-outlined">contact_page</span> Contact</button>
        </nav>
    </header>

    <main>
        <!-- Ansicht 1: Suche -->
        <div id="search-view" class="view">
            <div class="search-container glass-effect">
                <div class="search-box">
                    <label for="search-term">SEARCH</label>
                    <input type="text" id="search-term" placeholder="Search term">
                </div>
                <div class="filter-box">
                    <div class="toggle-container">
                        <label for="filter-mediatype-toggle">Filter by Mediatype</label>
                        <label class="switch">
                            <input type="checkbox" id="filter-mediatype-toggle">
                            <span class="slider"></span>
                        </label>
                    </div>
                    <select id="mediatype-filter" class="hidden"></select>
                </div>
                <div class="filter-box">
                    <div class="toggle-container">
                        <label for="exact-search-toggle">Exact search</label>
                        <label class="switch">
                            <input type="checkbox" id="exact-search-toggle">
                            <span class="slider"></span>
                        </label>
                    </div>
                    <p class="info-text">When activated, the searchmode is set to "IS EXACTLY" instead of "CONTAINS".</p>
                </div>
                <button id="search-button" class="action-button"><span class="material-symbols-outlined">search</span> Search!</button>
                <button id="explore-button" class="action-button secondary"><span class="material-symbols-outlined">contact_page</span> Explore Random</button>
            </div>
             <a href="#" id="submit-new-site-link" class="footer-link"><span class="material-symbols-outlined">send</span> Submit new Site!</a>
        </div>

        <!-- Ansicht 2: Ergebnisse -->
        <div id="results-view" class="view">
            <button id="back-to-search-btn" class="action-button back-button"><span class="material-symbols-outlined">arrow_back</span> Go to back Search!</button>
            <div id="results-container">
                <!-- Ergebnisse werden hier von JS eingefügt -->
                <!-- JS will need to add 'glass-effect' to .result-card elements (though CSS now has a fallback) -->
            </div>
        </div>
        
        <!-- Ansicht 3: Detailansicht -->
        <div id="detail-view" class="view">
             <button id="back-to-results-btn" class="action-button back-button"><span class="material-symbols-outlined">arrow_back</span> Back to results</button>
             <div id="detail-content" class="glass-effect">
                <!-- Detailinhalt wird hier von JS eingefügt -->
             </div>
        </div>

        <!-- Ansicht 4: Kontakt & Formulare -->
        <div id="contact-view" class="view">
            <div class="form-container">
                <button id="show-feedback-form" class="action-button"><span class="material-symbols-outlined">feedback</span> Feedback / Bug report</button>
                <button id="show-submit-form" class="action-button"><span class="material-symbols-outlined">add_circle</span> Submit new Website!</button>
            </div>
            
            <!-- Feedback-Formular -->
            <form id="feedback-form" class="form-wrapper hidden glass-effect">
                <h3>Feedback / Bug report</h3>
                <label for="feedback-name">Name</label>
                <input type="text" id="feedback-name" name="name">
                
                <label for="feedback-email">E-Mail Adress (not necessary)</label>
                <input type="email" id="feedback-email" name="email">
                
                <label for="feedback-text">Feedback/Bugs <span class="required">*</span></label>
                <textarea id="feedback-text" name="message" required></textarea>
                
                <label for="feedback-entry">Entry Number</label>
                <input type="number" id="feedback-entry" name="entry_number">
                
                <button type="submit" class="action-button">Absenden</button>
            </form>

            <!-- Submit-Formular -->
            <form id="submit-form" class="form-wrapper hidden glass-effect">
                <h3>Submit new Site!</h3>
                <label for="submit-name">Name <span class="required">*</span></label>
                <input type="text" id="submit-name" name="name" required>
                
                <label for="submit-desc">Description <span class="required">*</span></label>
                <input type="text" id="submit-desc" name="description" required>
                
                <label for="submit-url">URL <span class="required">*</span></label>
                <input type="url" id="submit-url" name="url" required>
                
                <button type="submit" class="action-button">Absenden</button>
            </form>
        </div>
    </main>

    <footer>
        <p>Made with HTML, CSS & JS</p>
    </footer>

</body>
</html>
